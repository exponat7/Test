@using TestApplication.Models.ViewModels;
@using TestApplication.Common;

@model IncomingRequests
@{
    int i = 0;
}
<div style="display:flex;flex-direction:column;width:100%;">
    <div style="margin-top:10px;margin-bottom:10px;">
        <div>Текущее количество входящих: @Model.IncomingCount</div>
    </div>
    <div id="IncomingTableId" style="width:100%;height:100%">
        <div style="display:flex;flex-direction:column;overflow-y:auto;width:100%;">
            <div>
                <div style="display:flex;background-color:darkseagreen;border-bottom:1px solid blue;padding-right:17px;">
                    <div class="first-table-element1">№</div>
                    <div class="middle-table-element1">Пользователь</div>
                    <div class="middle-table-element1">Идентификатор запроса</div>
                    <div class="middle-table-element1">Время регистрации</div>
                    <div class="middle-table-element1">Время начала обработки</div>
                    <div class="middle-table-element1">Время окончания обработки</div>
                    <div class="last-table-element1">Статус обработки</div>
                </div>
            </div>
            <div id="IncomingTableBody" style="height:100px; overflow-y:scroll;margin-top:2px;">
                @foreach (var record in Model.Records)
                {
                    string current_class = i % 2 == 0 ? "even" : "odd";
                    i++;
                <div class="@current_class" style="display:flex;">
                    <div class="first-table-element1">@record.Id</div>
                    <div class="middle-table-element1">@record.UserName</div>
                    <div class="middle-table-element1">@record.IncomingIdentifier</div>
                    <div class="middle-table-element1">@record.RegisterTime</div>
                    <div class="middle-table-element1">@record.StartTime</div>
                    <div class="middle-table-element1">@record.EndTime</div>
                    <div class="last-table-element1">@record.LastState.GetDisplayName()</div>
                </div>
                }
            </div>
        </div>
        <div style="display:flex;width:100%;justify-content:flex-end;margin-top:4px;">
        <div  style="display:flex;">
            <div class="paging-item-first" onclick="pagingDemo();"><</div>
            <div class="paging-item" onclick="pagingDemo();">1</div>
            <div class="paging-item" onclick="pagingDemo();">2</div>
            <div class="paging-item" onclick="pagingDemo();">3</div>
            <div class="paging-item-last" onclick="pagingDemo();">></div>
        </div>
        </div>
    </div>
</div>